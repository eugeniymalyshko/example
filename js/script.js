"use strict";function ibg(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}ibg();const menuBurger=document.querySelector(".icon-menu"),menuBody=document.querySelector(".menu__body");menuBurger&&menuBurger.addEventListener("click",(function(){document.body.classList.toggle("_lock"),menuBurger.classList.toggle("_active"),menuBody.classList.toggle("_active")}));const reqFields=document.querySelectorAll("._req");document.addEventListener("DOMContentLoaded",(function(){let e=0;for(let t=0;t<reqFields.length;t++){const r=reqFields[t];r.addEventListener("change",(function(t){""!=r.value&&"&nbsp"!=r.value?(e++,document.querySelector(".form__progress").setAttribute("value",e)):""===r.value&&(e--,document.querySelector(".form__progress").setAttribute("value",e))}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function r(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function n(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(o){o.preventDefault();let s=function(e){let o=0,s=document.querySelectorAll("._req");for(let e=0;e<s.length;e++){const l=s[e];r(l),l.classList.contains("_email")?n(l)&&(t(l),o++):("checkbox"===l.getAttribute("type")&&!1===l.checked||""===l.value)&&(t(l),o++)}return o}(),l=new FormData(e);if(0===s){e.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:l});if(t.ok){let r=await t.json();alert(r.message),e.reset(),e.classList.remove("_sending")}else alert("error"),e.classList.remove("_sending")}else alert("Будь ласка заповніть обов'язкове(ві) поля!")}))}));